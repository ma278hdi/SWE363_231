<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #a1{

        }
        body{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .cell {
            font-family: sans-serif;
            font-size: larger;
            font-weight: bolder;
            background-color: beige;
            width: 100px;
            height: 100px;
            border: 1px solid black;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .cell:hover{
            background-color: blanchedalmond;
        }

        .row {
            display: flex;
        }
        #inner{
            width: 50px;
            height: 50px;
            background-color: red;;
        }
       
    </style>
</head>

<body>
    <h1 id="turn">
        Now it's is <span>X</span> turn
    </h1>
    <!-- Board -->
    <div class="board">
        <div class="row">
            <div class="cell" id="a0"></div>
            <div class="cell" id="a1"></div>
            <div class="cell" id="a2"></div>
        </div>
        <div class="row">
            <div class="cell" id="a3"></div>
            <div class="cell" id="a4"></div>
            <div class="cell" id="a5"></div>
        </div>
        <div class="row">
            <div class="cell" id="a6"></div>
            <div class="cell" id="a7"></div>
            <div class="cell" id="a8"></div>
        </div>
    </div>
    <script>

        //variables
        let turn = "X"
        let gameModel = ["","","","","","","","",""]

        for(let i = 0; i < gameModel; i++){

        }
        
        // when user clicks the cell show the letter (unless there is a letter)
        const board = document.querySelector(".board")
        board.addEventListener("click",cellClicked)
        function cellClicked(event){
            
            // get the cell 
            const cell = event.target
            var cellClickedItem = event.target.id
             postion = parseInt(cellClickedItem[1])
             
            // add a letter
            if(gameModel[postion] === ""){
            gameModel[postion] = turn

            const letterObject = document.createTextNode(turn)
            cell.appendChild(letterObject)
            console.log(letterObject)
            if(turn === "X"){
                var color = document.getElementById(cellClickedItem)
                color.style.backgroundColor = "red"
            }else{
                var color = document.getElementById(cellClickedItem)
                color.style.backgroundColor = "green"
            }

            turn = turn === "X" ? "O" : "X"
            document.querySelector("#turn span").innerHTML = turn
            
            }
            var count =0;
           
            if(((gameModel[0]===gameModel[1]) && (gameModel[1]===gameModel[2]&&(gameModel[0]!=="")))||((gameModel[3]===gameModel[4])&&(gameModel[4]===gameModel[5]&&(gameModel[0]!=="")))||((gameModel[6]===gameModel[7])&&(gameModel[7]===gameModel[8])&&(gameModel[0]!==""))){
                document.querySelector("#turn span").innerHTML = "you win"

            }
            //switch turns

            //chenge title

        }
        var index = 0;
        document.body.addEventListener("keydown",(ev)=>{
            body = ev.target
            const letterObjectKeyBoard = document.createTextNode(turn)
            var IDs = "a" +index.toString() 

         if(ev.key==="ArrowUp"){
            if(index<2){
                index = 0
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
                console.log(letterObjectKeyBoard)
            }else{
                index = index - 3
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }
            turn = turn === "X" ? "O" : "X"

         }else if (ev.key === "ArrowDown"){
            if(index >= 6){
                index = 6
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }else{
                index = index +3 
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }
         }else if (ev.key ==="ArrowRight"){
            if(index>=8){
                index = 8;
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }else{
                index = index +1
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }
         }else if(ev.key ==="ArrowLeft"){
            if(index<0){ 
                index = 0
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }else{
                index = index-1
                var havercolor = document.getElementById(IDs)
                havercolor.style.backgroundColor = "blanchedalmond"
                if(gameModel[index]=== ""){
                    if(turn === "X"){
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "red"
                        document.getElementById(IDs).innerHTML = turn
                    }else{
                        var color = document.getElementById(IDs)
                        color.style.backgroundColor = "green"
                        document.getElementById(IDs).innerHTML = turn
                    }
                }
            }
         }
        })         
        
        // switch the letter 

        // change the title to the turn 

    </script>
</body>
</html>